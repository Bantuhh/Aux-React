{"ast":null,"code":"import { playURI } from \"./spotifyInterface\";\nimport Spotify from \"spotify-web-api-js\";\nconst spotifyWebApi = new Spotify();\nexport function addSongToQueue(platform, songInfo) {\n  console.log(\"AddSongToQueue\");\n  var currentSong = [platform, songInfo]; // If no songs currently in queue, add song to queue and skip to song\n\n  if (!global.isContentPlaying & global.sessionQueue.length === 0 & global.currentlyPlaying === \"\") {\n    if (currentSong !== \"None\") {\n      // Check the platform of the song\n      if (currentSong[0] === \"Spotify\") {\n        var songURI = currentSong[1][\"uri\"];\n        playURI(songURI, global.spotifyAccessToken);\n        global.isContentPlaying = true; // Set song as currently playing\n\n        global.currentlyPlaying = currentSong;\n      }\n    }\n  } else {\n    // Push song to queue\n    global.sessionQueue.push(currentSong);\n    console.log(\"currentSong\", currentSong);\n    console.log(\"Added Song to Queue\");\n  }\n}\nexport function addPlaylistToQueue(platform, playlistInfo) {\n  console.log(platform);\n  console.log(playlistInfo);\n  const playlistID = playlistInfo.id;\n  const userID = global.spotifyUserID;\n  var trackCounter = 0;\n  spotifyWebApi.getPlaylistTracks(userID, playlistID).then(response => {\n    console.log(response.items);\n\n    for (const key in response.items) {\n      console.log(response.items[key]);\n      var realSongInfo = response.items[key].track;\n      var currentSong = [platform, realSongInfo]; // If no song playing and queue empty, play first song in playlist and add rest to queue\n\n      if (!global.isContentPlaying & global.sessionQueue.length === 0 & global.currentlyPlaying !== \"\" & trackCounter === 0) {\n        console.log(\"Playing first song..\");\n        console.log(realSongInfo);\n        var songURI = realSongInfo[\"uri\"];\n        playURI(songURI, global.spotifyAccessToken);\n        global.isContentPlaying = true; // Set song as currently playing\n\n        global.currentlyPlaying = currentSong;\n        trackCounter += 1;\n        continue;\n      } // Push song to queue\n\n\n      global.sessionQueue.push(currentSong);\n      console.log(\"currentSong\", currentSong);\n      console.log(\"Added Song to Queue\");\n    }\n  }, reason => {\n    console.log(\"GOT TO ERROR (getPlaylistTracks)\"); // this.createNotification(\"error\");\n\n    console.error(reason); // Error!\n  });\n} // Removes first item from queue and returns it\n\nexport function popQueue() {\n  var upNext = global.sessionQueue.shift();\n  return upNext;\n}","map":{"version":3,"sources":["/Users/dbanta/Desktop/Aux React/aux-pwa/src/utils/queueInterface.js"],"names":["playURI","Spotify","spotifyWebApi","addSongToQueue","platform","songInfo","console","log","currentSong","global","isContentPlaying","sessionQueue","length","currentlyPlaying","songURI","spotifyAccessToken","push","addPlaylistToQueue","playlistInfo","playlistID","id","userID","spotifyUserID","trackCounter","getPlaylistTracks","then","response","items","key","realSongInfo","track","reason","error","popQueue","upNext","shift"],"mappings":"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","sourcesContent":["import {\n  playURI,\n} from \"./spotifyInterface\";\n\nimport Spotify from \"spotify-web-api-js\";\nconst spotifyWebApi = new Spotify();\n\n\n\nexport function addSongToQueue(platform, songInfo) {\n  console.log(\"AddSongToQueue\");\n\n  var currentSong = [platform, songInfo];\n\n  // If no songs currently in queue, add song to queue and skip to song\n  if (\n    !global.isContentPlaying &\n    (global.sessionQueue.length === 0) &\n    (global.currentlyPlaying === \"\")\n  ) {\n    if (currentSong !== \"None\") {\n      // Check the platform of the song\n      if (currentSong[0] === \"Spotify\") {\n        var songURI = currentSong[1][\"uri\"];\n\n        playURI(songURI, global.spotifyAccessToken);\n\n        global.isContentPlaying = true;\n\n        // Set song as currently playing\n        global.currentlyPlaying = currentSong;\n      }\n    }\n  } else {\n    // Push song to queue\n    global.sessionQueue.push(currentSong);\n\n    console.log(\"currentSong\", currentSong);\n\n    console.log(\"Added Song to Queue\");\n  }\n}\n\nexport function addPlaylistToQueue(platform, playlistInfo) {\n  console.log(platform);\n  console.log(playlistInfo);\n\n  const playlistID = playlistInfo.id;\n  const userID = global.spotifyUserID;\n\n  var trackCounter = 0;\n\n  spotifyWebApi.getPlaylistTracks(userID, playlistID).then(\n    (response) => {\n      console.log(response.items);\n      for (const key in response.items) {\n        console.log(response.items[key]);\n        var realSongInfo = response.items[key].track;\n        var currentSong = [platform, realSongInfo];\n\n        // If no song playing and queue empty, play first song in playlist and add rest to queue\n        if (\n          !global.isContentPlaying &\n          (global.sessionQueue.length === 0) &\n          (global.currentlyPlaying !== \"\") &\n          (trackCounter === 0)\n        ) {\n          console.log(\"Playing first song..\");\n          console.log(realSongInfo);\n          var songURI = realSongInfo[\"uri\"];\n\n          playURI(songURI, global.spotifyAccessToken);\n\n          global.isContentPlaying = true;\n\n          // Set song as currently playing\n          global.currentlyPlaying = currentSong;\n\n          trackCounter += 1;\n\n          continue;\n        }\n\n        // Push song to queue\n        global.sessionQueue.push(currentSong);\n\n        console.log(\"currentSong\", currentSong);\n\n        console.log(\"Added Song to Queue\");\n      }\n    },\n    (reason) => {\n      console.log(\"GOT TO ERROR (getPlaylistTracks)\");\n      // this.createNotification(\"error\");\n      console.error(reason); // Error!\n    }\n  );\n}\n\n// Removes first item from queue and returns it\nexport function popQueue() {\n  var upNext = global.sessionQueue.shift();\n\n  return upNext;\n}\n"]},"metadata":{},"sourceType":"module"}