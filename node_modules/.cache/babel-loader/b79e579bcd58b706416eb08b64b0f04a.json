{"ast":null,"code":"var _jsxFileName = \"/Users/dbanta/Desktop/Aux React/aux-pwa/src/components/accounts/accountsWeb.jsx\";\nimport React, { Component } from \"react\";\nimport \"../../styles/AccountsWeb.css\";\nimport \"../../global.js\";\nimport spotifyLogo from \"../../resources/images/Spotify.png\";\nimport $ from \"jquery\";\nimport Spotify from \"spotify-web-api-js\";\nconst spotifyWebApi = new Spotify();\n\nclass AccountsWeb extends Component {\n  constructor(props) {\n    super();\n    const params = this.getHashParams();\n\n    if (params.access_token) {\n      global.spotifyLoggedIn = true;\n      global.spotifyAccessToken = params.access_token;\n      spotifyWebApi.setAccessToken(params.access_token);\n      this.getUserData(params.access_token).then(response => {\n        this.setState({\n          userImage: response.images[0].url\n        });\n        global.spotifyUserImage = response.images[0].url;\n      });\n      this.props.spotifyLogin();\n    }\n\n    this.state = {\n      loggedIn: global.spotifyLoggedIn,\n      accessToken: global.spotifyAccessToken,\n      userImage: global.spotifyUserImage\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  getUserData(accessToken) {\n    return $.ajax({\n      url: \"https://api.spotify.com/v1/me\",\n      headers: {\n        Authorization: \"Bearer \" + accessToken\n      }\n    });\n  }\n\n  logout() {\n    global.spotifyLoggedIn = false;\n    global.spotifyAccessToken = \"\";\n    this.setState({\n      loggedIn: false,\n      accessToken: \"\",\n      userImage: \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"accountsDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spotifyBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"spotifyHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Spotify\"), /*#__PURE__*/React.createElement(\"img\", {\n      id: \"spotifyLogo\",\n      src: spotifyLogo,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), this.state.loggedIn === false ? /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://localhost:8888\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"loginButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, \"Login to your Spotify\")) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loggedInDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loggedInText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"userImage\",\n      src: this.state.userImage,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedInHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Your Permissions Include:\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loggedInLine\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, \"- Read access to user\\u2019s subscription details\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"- Read access to user\\u2019s email address\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"- Read access to user\\u2019s player state\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"- Read access to user's \\\"Your Music\\\" library\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"loggedIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"- Write access to a user\\u2019s playback state\")), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"logoutButton\",\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Log out\"))));\n  }\n\n}\n\nexport default AccountsWeb;","map":{"version":3,"sources":["/Users/dbanta/Desktop/Aux React/aux-pwa/src/components/accounts/accountsWeb.jsx"],"names":["React","Component","spotifyLogo","$","Spotify","spotifyWebApi","AccountsWeb","constructor","props","params","getHashParams","access_token","global","spotifyLoggedIn","spotifyAccessToken","setAccessToken","getUserData","then","response","setState","userImage","images","url","spotifyUserImage","spotifyLogin","state","loggedIn","accessToken","logout","bind","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","ajax","headers","Authorization","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"../../styles/AccountsWeb.css\";\n\nimport \"../../global.js\";\n\nimport spotifyLogo from \"../../resources/images/Spotify.png\";\n\nimport $ from \"jquery\";\n\nimport Spotify from \"spotify-web-api-js\";\nconst spotifyWebApi = new Spotify();\n\nclass AccountsWeb extends Component {\n  constructor(props) {\n    super();\n    const params = this.getHashParams();\n\n    if (params.access_token) {\n      global.spotifyLoggedIn = true;\n      global.spotifyAccessToken = params.access_token;\n\n      spotifyWebApi.setAccessToken(params.access_token);\n      this.getUserData(params.access_token).then((response) => {\n        this.setState({\n          userImage: response.images[0].url,\n        });\n        global.spotifyUserImage = response.images[0].url;\n      });\n\n      this.props.spotifyLogin();\n    }\n\n    this.state = {\n      loggedIn: global.spotifyLoggedIn,\n      accessToken: global.spotifyAccessToken,\n      userImage: global.spotifyUserImage,\n    };\n\n    this.logout = this.logout.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  getUserData(accessToken) {\n    return $.ajax({\n      url: \"https://api.spotify.com/v1/me\",\n      headers: {\n        Authorization: \"Bearer \" + accessToken,\n      },\n    });\n  }\n\n  logout() {\n    global.spotifyLoggedIn = false;\n    global.spotifyAccessToken = \"\";\n    this.setState({\n      loggedIn: false,\n      accessToken: \"\",\n      userImage: \"\",\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"accountsDiv\">\n        <div className=\"spotifyBox\">\n          <p id=\"spotifyHeader\">Spotify</p>\n          <img id=\"spotifyLogo\" src={spotifyLogo} alt=\"\"></img>\n          {this.state.loggedIn === false ? (\n            <a href=\"http://localhost:8888\">\n              <button id=\"loginButton\">Login to your Spotify</button>\n            </a>\n          ) : (\n            <div id=\"loggedInDiv\">\n              <div id=\"loggedInText\">\n                <img\n                  className=\"userImage\"\n                  src={this.state.userImage}\n                  alt=\"\"></img>\n                <p id=\"loggedInHeader\">Your Permissions Include:</p>\n                <div id=\"loggedInLine\"></div>\n                <p id=\"loggedIn\">\n                  - Read access to user’s subscription details\n                </p>\n                <p id=\"loggedIn\">- Read access to user’s email address</p>\n                <p id=\"loggedIn\">- Read access to user’s player state</p>\n                <p id=\"loggedIn\">\n                  - Read access to user's \"Your Music\" library\n                </p>\n                <p id=\"loggedIn\">- Write access to a user’s playback state</p>\n              </div>\n              <button id=\"logoutButton\" onClick={this.logout}>\n                Log out\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AccountsWeb;\n"]},"metadata":{},"sourceType":"module"}