{"ast":null,"code":"import _regeneratorRuntime from \"/Users/dbanta/Desktop/Aux React/aux-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { useState, useRef, useEffect, useCallback } from 'react';\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar noop = function noop() {};\n\nfunction useSpotifyWebPlaybackSdk(_ref) {\n  var name = _ref.name,\n      _getOAuthToken = _ref.getOAuthToken,\n      _ref$accountError = _ref.accountError,\n      accountError = _ref$accountError === void 0 ? noop : _ref$accountError,\n      _ref$onReady = _ref.onReady,\n      onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n      _ref$onPlayerStateCha = _ref.onPlayerStateChanged,\n      onPlayerStateChanged = _ref$onPlayerStateCha === void 0 ? noop : _ref$onPlayerStateCha;\n\n  var _React$useState = useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isReady = _React$useState2[0],\n      setIsReady = _React$useState2[1];\n\n  var _React$useState3 = useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      deviceId = _React$useState4[0],\n      setDeviceId = _React$useState4[1];\n\n  var playerRef = useRef(null);\n  useEffect(function () {\n    if (window.Spotify) {\n      playerRef.current = new Spotify.Player({\n        name: name,\n        getOAuthToken: function () {\n          var _getOAuthToken2 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(cb) {\n            var token;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _getOAuthToken();\n\n                  case 2:\n                    token = _context.sent;\n                    cb(token);\n\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function getOAuthToken(_x) {\n            return _getOAuthToken2.apply(this, arguments);\n          }\n\n          return getOAuthToken;\n        }()\n      });\n      setIsReady(true);\n    }\n\n    window.onSpotifyWebPlaybackSDKReady = function () {\n      playerRef.current = new Spotify.Player({\n        name: name,\n        getOAuthToken: function () {\n          var _getOAuthToken3 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee2(cb) {\n            var token;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return _getOAuthToken();\n\n                  case 2:\n                    token = _context2.sent;\n                    cb(token);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function getOAuthToken(_x2) {\n            return _getOAuthToken3.apply(this, arguments);\n          }\n\n          return getOAuthToken;\n        }()\n      });\n      setIsReady(true);\n    };\n\n    if (!window.Spotify) {\n      var scriptTag = document.createElement('script');\n      scriptTag.src = 'https://sdk.scdn.co/spotify-player.js';\n      document.head.appendChild(scriptTag);\n    }\n  }, []);\n  var handleReady = useCallback(function (_ref2) {\n    var readyDeviceId = _ref2.device_id;\n    setDeviceId(readyDeviceId);\n\n    if (onReady) {\n      onReady(deviceId);\n    }\n  }, []);\n  useEffect(function () {\n    if (isReady) {\n      playerRef.current.connect();\n    }\n  }, [isReady]);\n  useEffect(function () {\n    var player = playerRef.current;\n\n    if (isReady) {\n      player.addListener('account_error', accountError);\n      player.addListener('ready', handleReady);\n      player.addListener('initialization_error', accountError);\n      player.addListener('authentication_error', accountError);\n      player.addListener('not_ready', accountError);\n      player.addListener('player_state_changed', onPlayerStateChanged);\n      return function () {\n        player.removeListener('account_error', accountError);\n        player.removeListener('ready', handleReady);\n        player.removeListener('player_state_changed', onPlayerStateChanged);\n      };\n    }\n\n    return;\n  }, [isReady, onPlayerStateChanged]);\n  return {\n    player: playerRef.current,\n    deviceId: deviceId,\n    isReady: isReady\n  };\n}\n\nexport { useSpotifyWebPlaybackSdk };","map":{"version":3,"sources":["/Users/dbanta/Desktop/Aux React/aux-pwa/node_modules/use-spotify-web-playback-sdk/dist-web/index.js"],"names":["useState","useRef","useEffect","useCallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","push","length","Array","isArray","noop","useSpotifyWebPlaybackSdk","_ref","name","_getOAuthToken","getOAuthToken","_ref$accountError","accountError","_ref$onReady","onReady","_ref$onPlayerStateCha","onPlayerStateChanged","_React$useState","_React$useState2","isReady","setIsReady","_React$useState3","_React$useState4","deviceId","setDeviceId","playerRef","window","Spotify","current","Player","_getOAuthToken2","mark","_callee","cb","token","wrap","_callee$","_context","prev","sent","stop","_x","onSpotifyWebPlaybackSDKReady","_getOAuthToken3","_callee2","_callee2$","_context2","_x2","scriptTag","document","createElement","src","head","appendChild","handleReady","_ref2","readyDeviceId","device_id","connect","player","addListener","removeListener"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect, useCallback } from 'react';\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar noop = function noop() {};\n\nfunction useSpotifyWebPlaybackSdk(_ref) {\n  var name = _ref.name,\n      _getOAuthToken = _ref.getOAuthToken,\n      _ref$accountError = _ref.accountError,\n      accountError = _ref$accountError === void 0 ? noop : _ref$accountError,\n      _ref$onReady = _ref.onReady,\n      onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n      _ref$onPlayerStateCha = _ref.onPlayerStateChanged,\n      onPlayerStateChanged = _ref$onPlayerStateCha === void 0 ? noop : _ref$onPlayerStateCha;\n\n  var _React$useState = useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isReady = _React$useState2[0],\n      setIsReady = _React$useState2[1];\n\n  var _React$useState3 = useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      deviceId = _React$useState4[0],\n      setDeviceId = _React$useState4[1];\n\n  var playerRef = useRef(null);\n  useEffect(function () {\n    if (window.Spotify) {\n      playerRef.current = new Spotify.Player({\n        name: name,\n        getOAuthToken: function () {\n          var _getOAuthToken2 = _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee(cb) {\n            var token;\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _getOAuthToken();\n\n                  case 2:\n                    token = _context.sent;\n                    cb(token);\n\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function getOAuthToken(_x) {\n            return _getOAuthToken2.apply(this, arguments);\n          }\n\n          return getOAuthToken;\n        }()\n      });\n      setIsReady(true);\n    }\n\n    window.onSpotifyWebPlaybackSDKReady = function () {\n      playerRef.current = new Spotify.Player({\n        name: name,\n        getOAuthToken: function () {\n          var _getOAuthToken3 = _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee2(cb) {\n            var token;\n            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return _getOAuthToken();\n\n                  case 2:\n                    token = _context2.sent;\n                    cb(token);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function getOAuthToken(_x2) {\n            return _getOAuthToken3.apply(this, arguments);\n          }\n\n          return getOAuthToken;\n        }()\n      });\n      setIsReady(true);\n    };\n\n    if (!window.Spotify) {\n      var scriptTag = document.createElement('script');\n      scriptTag.src = 'https://sdk.scdn.co/spotify-player.js';\n      document.head.appendChild(scriptTag);\n    }\n  }, []);\n  var handleReady = useCallback(function (_ref2) {\n    var readyDeviceId = _ref2.device_id;\n    setDeviceId(readyDeviceId);\n\n    if (onReady) {\n      onReady(deviceId);\n    }\n  }, []);\n  useEffect(function () {\n    if (isReady) {\n      playerRef.current.connect();\n    }\n  }, [isReady]);\n  useEffect(function () {\n    var player = playerRef.current;\n\n    if (isReady) {\n      player.addListener('account_error', accountError);\n      player.addListener('ready', handleReady);\n      player.addListener('initialization_error', accountError);\n      player.addListener('authentication_error', accountError);\n      player.addListener('not_ready', accountError);\n      player.addListener('player_state_changed', onPlayerStateChanged);\n      return function () {\n        player.removeListener('account_error', accountError);\n        player.removeListener('ready', handleReady);\n        player.removeListener('player_state_changed', onPlayerStateChanged);\n      };\n    }\n\n    return;\n  }, [isReady, onPlayerStateChanged]);\n  return {\n    player: playerRef.current,\n    deviceId: deviceId,\n    isReady: isReady\n  };\n}\n\nexport { useSpotifyWebPlaybackSdk };\n"]},"metadata":{},"sourceType":"module"}